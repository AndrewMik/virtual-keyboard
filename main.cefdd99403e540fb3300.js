(()=>{var e={425:()=>{function e(e){const s=document.createElement(e);return s.classList.add(e),document.body.append(s),s}const s=e("header"),t=e("main"),a=e("footer"),r=document.createElement("h1"),i=document.createElement("textarea"),h=document.createElement("div"),n=document.createElement("p");r.textContent="Virtual keyboard",n.innerHTML="Клавиатура создана в операционной системе Windows.\n             <br>Для переключения языка комбинация: левыe ctrl + alt.",r.classList.add("title"),i.classList.add("keyboard-output"),h.classList.add("keyboard"),n.classList.add("footer-text"),s.append(r),t.append(i),t.append(h),a.append(n)}},s={};function t(a){var r=s[a];if(void 0!==r)return r.exports;var i=s[a]={exports:{}};return e[a](i,i.exports,t),i.exports}(()=>{"use strict";const e=JSON.parse('[{"code":"Backquote","type":"char","english":{"lowerCase":"`","upperCase":"`","shift":"~"},"russian":{"lowerCase":"ё","upperCase":"Ё","shift":"changeCase"}},{"code":"Digit1","type":"digit","english":{"lowerCase":"1","upperCase":"1","shift":"!"},"russian":{"lowerCase":"1","upperCase":"1","shift":"!"}},{"code":"Digit2","type":"digit","english":{"lowerCase":"2","upperCase":"2","shift":"@"},"russian":{"lowerCase":"2","upperCase":"2","shift":"\\""}},{"code":"Digit3","type":"digit","english":{"lowerCase":"3","upperCase":"3","shift":"#"},"russian":{"lowerCase":"3","upperCase":"3","shift":"№"}},{"code":"Digit4","type":"digit","english":{"lowerCase":"4","upperCase":"4","shift":"$"},"russian":{"lowerCase":"4","upperCase":"4","shift":";"}},{"code":"Digit5","type":"digit","english":{"lowerCase":"5","upperCase":"5","shift":"%"},"russian":{"lowerCase":"5","upperCase":"5","shift":"%"}},{"code":"Digit6","type":"digit","english":{"lowerCase":"6","upperCase":"6","shift":"^"},"russian":{"lowerCase":"6","upperCase":"6","shift":":"}},{"code":"Digit7","type":"digit","english":{"lowerCase":"7","upperCase":"7","shift":"&"},"russian":{"lowerCase":"7","upperCase":"7","shift":"?"}},{"code":"Digit8","type":"digit","english":{"lowerCase":"8","upperCase":"8","shift":"*"},"russian":{"lowerCase":"8","upperCase":"8","shift":"*"}},{"code":"Digit9","type":"digit","english":{"lowerCase":"9","upperCase":"9","shift":"("},"russian":{"lowerCase":"9","upperCase":"9","shift":"("}},{"code":"Digit0","type":"digit","english":{"lowerCase":"0","upperCase":"0","shift":")"},"russian":{"lowerCase":"0","upperCase":"0","shift":")"}},{"code":"Minus","type":"char","english":{"lowerCase":"-","upperCase":"-","shift":"_"},"russian":{"lowerCase":"-","upperCase":"-","shift":"_"}},{"code":"Equal","type":"char","english":{"lowerCase":"=","upperCase":"=","shift":"+"},"russian":{"lowerCase":"=","upperCase":"=","shift":"+"}},{"code":"Backspace","type":"modifier","english":{"lowerCase":"←","upperCase":"←","shift":"←"},"russian":{"lowerCase":"←","upperCase":"←","shift":"←"}},{"code":"Tab","type":"modifier","english":{"lowerCase":"tab","upperCase":"tab","shift":"tab"},"russian":{"lowerCase":"tab","upperCase":"tab","shift":"tab"}},{"code":"KeyQ","type":"char","english":{"lowerCase":"q","upperCase":"Q","shift":"changeCase"},"russian":{"lowerCase":"й","upperCase":"Й","shift":"changeCase"}},{"code":"KeyW","type":"char","english":{"lowerCase":"w","upperCase":"W","shift":"changeCase"},"russian":{"lowerCase":"ц","upperCase":"Ц","shift":"changeCase"}},{"code":"KeyE","type":"char","english":{"lowerCase":"e","upperCase":"E","shift":"changeCase"},"russian":{"lowerCase":"у","upperCase":"У","shift":"changeCase"}},{"code":"KeyR","type":"char","english":{"lowerCase":"r","upperCase":"R","shift":"changeCase"},"russian":{"lowerCase":"к","upperCase":"К","shift":"changeCase"}},{"code":"KeyT","type":"char","english":{"lowerCase":"t","upperCase":"T","shift":"changeCase"},"russian":{"lowerCase":"е","upperCase":"Е","shift":"changeCase"}},{"code":"KeyY","type":"char","english":{"lowerCase":"y","upperCase":"Y","shift":"changeCase"},"russian":{"lowerCase":"н","upperCase":"Н","shift":"changeCase"}},{"code":"KeyU","type":"char","english":{"lowerCase":"u","upperCase":"U","shift":"changeCase"},"russian":{"lowerCase":"г","upperCase":"Г","shift":"changeCase"}},{"code":"KeyI","type":"char","english":{"lowerCase":"i","upperCase":"I","shift":"changeCase"},"russian":{"lowerCase":"ш","upperCase":"Ш","shift":"changeCase"}},{"code":"KeyO","type":"char","english":{"lowerCase":"o","upperCase":"O","shift":"changeCase"},"russian":{"lowerCase":"щ","upperCase":"Щ","shift":"changeCase"}},{"code":"KeyP","type":"char","english":{"lowerCase":"p","upperCase":"P","shift":"changeCase"},"russian":{"lowerCase":"з","upperCase":"З","shift":"changeCase"}},{"code":"BracketLeft","type":"char","english":{"lowerCase":"[","upperCase":"[","shift":"{"},"russian":{"lowerCase":"х","upperCase":"Х","shift":"changeCase"}},{"code":"BracketRight","type":"char","english":{"lowerCase":"]","upperCase":"]","shift":"}"},"russian":{"lowerCase":"ъ","upperCase":"Ъ","shift":"changeCase"}},{"code":"Backslash","type":"char","english":{"lowerCase":"\\\\","upperCase":"\\\\","shift":"/"},"russian":{"lowerCase":"\\\\","upperCase":"\\\\","shift":"/"}},{"code":"Delete","type":"modifier","english":{"lowerCase":"del","upperCase":"del","shift":"del"},"russian":{"lowerCase":"del","upperCase":"del","shift":"del"}},{"code":"CapsLock","type":"modifier","english":{"lowerCase":"caps","upperCase":"caps","shift":"caps"},"russian":{"lowerCase":"caps","upperCase":"caps","shift":"caps"}},{"code":"KeyA","type":"char","english":{"lowerCase":"a","upperCase":"A","shift":"changeCase"},"russian":{"lowerCase":"ф","upperCase":"Ф","shift":"changeCase"}},{"code":"KeyS","type":"char","english":{"lowerCase":"s","upperCase":"S","shift":"changeCase"},"russian":{"lowerCase":"ы","upperCase":"Ы","shift":"changeCase"}},{"code":"KeyD","type":"char","english":{"lowerCase":"d","upperCase":"D","shift":"changeCase"},"russian":{"lowerCase":"в","upperCase":"В","shift":"changeCase"}},{"code":"KeyF","type":"char","english":{"lowerCase":"f","upperCase":"F","shift":"changeCase"},"russian":{"lowerCase":"а","upperCase":"А","shift":"changeCase"}},{"code":"KeyG","type":"char","english":{"lowerCase":"g","upperCase":"G","shift":"changeCase"},"russian":{"lowerCase":"п","upperCase":"П","shift":"changeCase"}},{"code":"KeyH","type":"char","english":{"lowerCase":"h","upperCase":"H","shift":"changeCase"},"russian":{"lowerCase":"р","upperCase":"Р","shift":"changeCase"}},{"code":"KeyJ","type":"char","english":{"lowerCase":"j","upperCase":"J","shift":"changeCase"},"russian":{"lowerCase":"о","upperCase":"О","shift":"changeCase"}},{"code":"KeyK","type":"char","english":{"lowerCase":"k","upperCase":"K","shift":"changeCase"},"russian":{"lowerCase":"л","upperCase":"Л","shift":"changeCase"}},{"code":"KeyL","type":"char","english":{"lowerCase":"l","upperCase":"L","shift":"changeCase"},"russian":{"lowerCase":"д","upperCase":"Д","shift":"changeCase"}},{"code":"Semicolon","type":"char","english":{"lowerCase":";","upperCase":";","shift":":"},"russian":{"lowerCase":"ж","upperCase":"Ж","shift":"changeCase"}},{"code":"Quote","type":"char","english":{"lowerCase":"\'","upperCase":"\'","shift":"\\""},"russian":{"lowerCase":"э","upperCase":"Э","shift":"changeCase"}},{"code":"Enter","type":"modifier","english":{"lowerCase":"enter","upperCase":"enter","shift":"enter"},"russian":{"lowerCase":"enter","upperCase":"enter","shift":"enter"}},{"code":"ShiftLeft","type":"modifier","english":{"lowerCase":"shift","upperCase":"shift","shift":"shift"},"russian":{"lowerCase":"shift","upperCase":"shift","shift":"shift"}},{"code":"KeyZ","type":"char","english":{"lowerCase":"z","upperCase":"Z","shift":"changeCase"},"russian":{"lowerCase":"я","upperCase":"Я","shift":"changeCase"}},{"code":"KeyX","type":"char","english":{"lowerCase":"x","upperCase":"X","shift":"changeCase"},"russian":{"lowerCase":"ч","upperCase":"Ч","shift":"changeCase"}},{"code":"KeyC","type":"char","english":{"lowerCase":"c","upperCase":"C","shift":"changeCase"},"russian":{"lowerCase":"с","upperCase":"С","shift":"changeCase"}},{"code":"KeyV","type":"char","english":{"lowerCase":"v","upperCase":"V","shift":"changeCase"},"russian":{"lowerCase":"м","upperCase":"М","shift":"changeCase"}},{"code":"KeyB","type":"char","english":{"lowerCase":"b","upperCase":"B","shift":"changeCase"},"russian":{"lowerCase":"и","upperCase":"И","shift":"changeCase"}},{"code":"KeyN","type":"char","english":{"lowerCase":"n","upperCase":"N","shift":"changeCase"},"russian":{"lowerCase":"т","upperCase":"Т","shift":"changeCase"}},{"code":"KeyM","type":"char","english":{"lowerCase":"m","upperCase":"M","shift":"changeCase"},"russian":{"lowerCase":"ь","upperCase":"Ь","shift":"changeCase"}},{"code":"Comma","type":"char","english":{"lowerCase":",","upperCase":",","shift":"<"},"russian":{"lowerCase":"б","upperCase":"Б","shift":"changeCase"}},{"code":"Period","type":"char","english":{"lowerCase":".","upperCase":".","shift":">"},"russian":{"lowerCase":"ю","upperCase":"Ю","shift":"changeCase"}},{"code":"Slash","type":"char","english":{"lowerCase":"/","upperCase":"/","shift":"?"},"russian":{"lowerCase":".","upperCase":".","shift":","}},{"code":"ArrowUp","type":"char","english":{"lowerCase":"↑","upperCase":"↑","shift":"↑"},"russian":{"lowerCase":"↑","upperCase":"↑","shift":"↑"}},{"code":"ShiftRight","type":"modifier","english":{"lowerCase":"shift","upperCase":"shift","shift":"shift"},"russian":{"lowerCase":"shift","upperCase":"shift","shift":"shift"}},{"code":"ControlLeft","type":"modifier","english":{"lowerCase":"ctrl","upperCase":"ctrl","shift":"ctrl"},"russian":{"lowerCase":"ctrl","upperCase":"ctrl","shift":"ctrl"}},{"code":"MetaLeft","type":"modifier","english":{"lowerCase":"win","upperCase":"win","shift":"win"},"russian":{"lowerCase":"win","upperCase":"win","shift":"win"}},{"code":"AltLeft","type":"modifier","english":{"lowerCase":"alt","upperCase":"alt","shift":"alt"},"russian":{"lowerCase":"alt","upperCase":"alt","shift":"alt"}},{"code":"Space","type":"modifier","english":{"lowerCase":"space","upperCase":"space","shift":"space"},"russian":{"lowerCase":"space","upperCase":"space","shift":"space"}},{"code":"AltRight","type":"modifier","english":{"lowerCase":"alt","upperCase":"alt","shift":"alt"},"russian":{"lowerCase":"alt","upperCase":"alt","shift":"alt"}},{"code":"ArrowLeft","type":"char","english":{"lowerCase":"←","upperCase":"←","shift":"←"},"russian":{"lowerCase":"←","upperCase":"←","shift":"←"}},{"code":"ArrowDown","type":"char","english":{"lowerCase":"↓","upperCase":"↓","shift":"↓"},"russian":{"lowerCase":"↓","upperCase":"↓","shift":"↓"}},{"code":"ArrowRight","type":"char","english":{"lowerCase":"→","upperCase":"→","shift":"→"},"russian":{"lowerCase":"→","upperCase":"→","shift":"→"}},{"code":"ControlRight","type":"modifier","english":{"lowerCase":"ctrl","upperCase":"ctrl","shift":"ctrl"},"russian":{"lowerCase":"ctrl","upperCase":"ctrl","shift":"ctrl"}}]'),s="english",a="upperCase",r="lowerCase",i="language",h="active",n="controlLeft",o="altLeft",p="capsLock",l="shiftLeft",u="shiftRight",c="lowerCase";class C{constructor(e){this.key=e,this.keyElement=document.createElement("button"),this.createKey()}createKey(){this.keyElement.classList.add("key"),this.keyElement.classList.add("glow"),this.keyElement.classList.add(this.key.type),this.keyElement.classList.add(this.key.code.charAt(0).toLowerCase()+this.key.code.slice(1))}setKeyName(e,s,t){"shift"===t?"changeCase"===this.key[e][t]?this.keyElement.textContent=s===c?this.key[e].upperCase:this.key[e][c]:this.keyElement.textContent=this.key[e][t]:this.keyElement.textContent=this.key[e][s]}}t(425);const d=new class{constructor(){this.keyboard=[],this.language=s,this.letterCase=r,this.keyboardContainer=document.querySelector(".keyboard"),this.isLeftCtrlActive=!1,this.isLeftAltActive=!1,this.shiftState=!1,this.keyboardOutput=document.querySelector(".keyboard-output"),this.shift=!1}addKeyButton(e){this.keyboard.push(e),this.keyboardContainer.append(e.keyElement)}changeLanguage(){this.language===s?this.language="russian":this.language=s}changeLetterCase(){this.letterCase===a?this.letterCase=r:this.letterCase=a}changeButtons(){this.keyboard.forEach((e=>{e.setKeyName(this.language,this.letterCase)}))}shiftButtons(){this.keyboard.forEach((e=>{this.shift="shift",e.setKeyName(this.language,this.letterCase,this.shift)}))}selectKeyButton(e){return"keydown"===e.type||"keyup"===e.type?document.querySelector(`.${e.code.charAt(0).toLowerCase()+e.code.slice(1)}`):e.target}setLocalStorage(){console,localStorage.setItem(i,this.language)}getLocalStorage(){localStorage.getItem(i)&&(this.language=localStorage.getItem(i),"undefined"===this.language&&(this.language=s))}insertText(e){const s=this.keyboardOutput.selectionStart,t=this.keyboardOutput.selectionEnd,a=this.keyboardOutput.value.substring(0,s)+e+this.keyboardOutput.value.substring(t);this.keyboardOutput.value=a,this.keyboardOutput.selectionEnd=s+e.length}delete(){const e=this.keyboardOutput.selectionStart,s=this.keyboardOutput.selectionEnd;let t;t=e===s?this.keyboardOutput.value.substring(0,e)+this.keyboardOutput.value.substring(s+1):this.keyboardOutput.value.substring(0,e)+this.keyboardOutput.value.substring(s),this.keyboardOutput.value=t,this.keyboardOutput.selectionEnd=e}backspace(){const e=this.keyboardOutput.selectionStart,s=this.keyboardOutput.selectionEnd;let t;t=e===s?this.keyboardOutput.value.substring(0,e-1)+this.keyboardOutput.value.substring(s):this.keyboardOutput.value.substring(0,e)+this.keyboardOutput.value.substring(s),this.keyboardOutput.value=t,this.keyboardOutput.selectionEnd=e===s?e-1:e}enter(){const e=this.keyboardOutput.selectionStart,s=this.keyboardOutput.selectionEnd;let t=this.keyboardOutput.value.substring(0,e)+"\n"+this.keyboardOutput.value.substring(s);this.keyboardOutput.value=t,this.keyboardOutput.setSelectionRange(e+1,e+1)}tab(){const e=this.keyboardOutput.selectionStart,s=this.keyboardOutput.selectionEnd;let t=this.keyboardOutput.value.substring(0,e)+"\t"+this.keyboardOutput.value.substring(s);this.keyboardOutput.value=t,this.keyboardOutput.selectionStart=e+1}space(){this.insertText(" ")}pressButtonHandler(e){const s=this.selectKeyButton(e);if(this.keyboard.forEach((s=>{s.key.code===e.code&&e.preventDefault()})),s){switch(s.classList.toggle(h),!0){case s.classList.contains(n):this.isLeftCtrlActive=!0;break;case s.classList.contains(o):this.isLeftAltActive=!0;break;case s.classList.contains(p):this.changeLetterCase(),this.changeButtons();break;case s.classList.contains("char"):case s.classList.contains("digit"):this.insertText(s.textContent);break;case s.classList.contains("delete"):this.delete();break;case s.classList.contains("backspace"):this.backspace();break;case s.classList.contains("enter"):this.enter();break;case s.classList.contains("tab"):this.tab();break;case s.classList.contains("space"):this.space();break;case s.classList.contains(l):case s.classList.contains(u):this.shiftButtons()}this.isLeftCtrlActive&&this.isLeftAltActive&&(this.changeLanguage(),this.changeButtons())}}unpressButtonHandler(e){const s=this.selectKeyButton(e);if(s)switch(s.classList.contains(p)||s.classList.remove(h),!0){case s.classList.contains(n):this.isLeftCtrlActive=!1;break;case s.classList.contains(o):this.isLeftAltActive=!1;break;case s.classList.contains(l):case s.classList.contains(u):this.shift=!1,this.changeButtons()}this.keyboardOutput.focus()}};for(let s=0;s<e.length;s++){const t=new C(e[s]);d.addKeyButton(t)}window.addEventListener("load",(()=>{d.getLocalStorage(),d.changeButtons()})),document.addEventListener("keydown",(e=>{d.pressButtonHandler(e)})),d.keyboardContainer.addEventListener("mousedown",(e=>{d.pressButtonHandler(e)})),document.addEventListener("keyup",(e=>{d.unpressButtonHandler(e)})),d.keyboardContainer.addEventListener("mouseup",(e=>{d.unpressButtonHandler(e)})),window.addEventListener("beforeunload",(()=>{d.setLocalStorage()}))})()})();